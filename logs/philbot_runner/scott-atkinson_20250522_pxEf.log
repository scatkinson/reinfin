2025/05/22 14:27:51 [INFO] Namespace: conf: {'logging_path': 'logs/philbot_runner', 'pipeline_id': None, 'trade_file': 'data/scott-atkinson_20250521_osvC/SPY_2020-01-01_2023-12-31_Day_scott-atkinson_20250521_osvC.csv', 'cash_at_risk': 0.1, 'gamma': 0.99, 'epsilon': 1.0, 'batch_size': 64, 'n_actions': 4, 'eps_min': 0.01, 'eps_dec': 5e-05, 'input_dims': [6], 'lr': 0.003, 'n_games': 5}, logging_path: logs/philbot_runner, pipeline_id: scott-atkinson_20250522_pxEf, trade_file: data/scott-atkinson_20250521_osvC/SPY_2020-01-01_2023-12-31_Day_scott-atkinson_20250521_osvC.csv, cash_at_risk: 0.1, gamma: 0.99, epsilon: 1.0, batch_size: 64, n_actions: 4, eps_min: 0.01, eps_dec: 5e-05, input_dims: [6], lr: 0.003, n_games: 5, logfile: logs/philbot_runner/scott-atkinson_20250522_pxEf.log, save_directory: images/philbot/scott-atkinson_20250522_pxEf, scores_plot_filename: scores_plot_scott-atkinson_20250522_pxEf.png, scores_plot_path: images/philbot/scott-atkinson_20250522_pxEf/scores_plot_scott-atkinson_20250522_pxEf.png, net_worths_plot_filename: net_worths_plot_scott-atkinson_20250522_pxEf.png, net_worths_plot_path: images/philbot/scott-atkinson_20250522_pxEf/net_worths_plot_scott-atkinson_20250522_pxEf.png, actions_plot_filename: actions_plot_scott-atkinson_20250522_pxEf.png, actions_plot_path: images/philbot/scott-atkinson_20250522_pxEf/actions_plot_scott-atkinson_20250522_pxEf.png [philbot_runner.py::<module> -- Line 37]
2025/05/22 14:27:51 [INFO] Running main() of /Users/scott.atkinson/src/reinfin/bin/agents/philbot_runner.py [philbot_runner.py::<module> -- Line 39]
2025/05/22 14:27:51 [INFO] Log will appear at logs/philbot_runner/scott-atkinson_20250522_pxEf.log [philbot_runner.py::<module> -- Line 40]
2025/05/22 14:27:51 [INFO] Loading trade_file from data/scott-atkinson_20250521_osvC/SPY_2020-01-01_2023-12-31_Day_scott-atkinson_20250521_osvC.csv. [philbot_runner.py::run_philbot -- Line 17]
2025/05/22 14:27:51 [INFO] Instantiating Environment for trade_file with cash at risk: 0.1. [philbot_runner.py::run_philbot -- Line 20]
2025/05/22 14:27:51 [INFO] Instantiating Agent according to config. [philbot_runner.py::run_philbot -- Line 24]
2025/05/22 14:27:52 [INFO] Running trading game number 0 [philbot_runner.py::run_philbot -- Line 39]
2025/05/22 14:27:52 [INFO] Step: 1, Balance: 10000, Shares: 0, Net Worth: 10000.0 [environment.py::render -- Line 104]
2025/05/22 14:27:52 [INFO] Purchasing 1.5507241881958875 shares at current price 322.43 for 500.0 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:52 [INFO] Step: 5, Balance: 8799.375, Shares: 3.713468216787026, Net Worth: 10004.098358890047 [environment.py::render -- Line 104]
2025/05/22 14:27:52 [INFO] Purchasing 2.0207389234208035 shares at current price 326.59 for 659.9531250000002 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:52 [INFO] Step: 6, Balance: 8139.421875, Shares: 5.734207140207829, Net Worth: 10012.156584920474 [environment.py::render -- Line 104]
2025/05/22 14:27:52 [INFO] Purchasing 1.8746365330579784 shares at current price 325.64 for 610.4566406250001 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:52 [INFO] Step: 10, Balance: 7152.516972656251, Shares: 8.755992203613047, Net Worth: 10025.883374193909 [environment.py::render -- Line 104]
2025/05/22 14:27:52 [INFO] Purchasing 1.6213467114465903 shares at current price 330.86 for 536.4387729492189 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:54 [INFO] Step: 500, Balance: 0.9860923783998755, Shares: 31.714758708320225, Net Worth: 14925.951540513899 [environment.py::render -- Line 104]
2025/05/22 14:27:54 [INFO] Last reward: 0.006221656552202917. [environment.py::step -- Line 70]
2025/05/22 14:27:54 [INFO] Last net worth: 14833.661592672686. [environment.py::step -- Line 71]
2025/05/22 14:27:55 [INFO] Step: 1000, Balance: 0.9860923783998755, Shares: 31.714758708320225, Net Worth: 14851.73900513643 [environment.py::render -- Line 104]
2025/05/22 14:27:55 [INFO] Last reward: -0.013856391983802946. [environment.py::step -- Line 70]
2025/05/22 14:27:55 [INFO] Last net worth: 15060.422117437174. [environment.py::step -- Line 71]
2025/05/22 14:27:55 [INFO] episode 0 score 0.5007679722538038,
average score 0.5007679722538038,
epsilon 0.9529000000000052,
net worth: 15119.094421047568 [philbot_runner.py::run_philbot -- Line 58]
2025/05/22 14:27:55 [INFO] Running trading game number 1 [philbot_runner.py::run_philbot -- Line 39]
2025/05/22 14:27:55 [INFO] Step: 0, Balance: 10000, Shares: 0, Net Worth: 10000 [environment.py::render -- Line 104]
2025/05/22 14:27:55 [INFO] Purchasing 1.5390771693292702 shares at current price 324.87 for 500.0 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:55 [INFO] Step: 13, Balance: 6992.5646321521, Shares: 9.212903525710058, Net Worth: 10044.707441184586 [environment.py::render -- Line 104]
2025/05/22 14:27:55 [INFO] Purchasing 1.5827443712431193 shares at current price 331.35 for 524.4423474114076 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:56 [INFO] Step: 500, Balance: 0.9607405461768258, Shares: 31.84178259048902, Net Worth: 14985.703627630312 [environment.py::render -- Line 104]
2025/05/22 14:27:56 [INFO] Last reward: 0.00622166879300428. [environment.py::step -- Line 70]
2025/05/22 14:27:56 [INFO] Last net worth: 14893.044040291988. [environment.py::step -- Line 71]
2025/05/22 14:27:57 [INFO] Step: 1000, Balance: 0.9607405461768258, Shares: 31.84178259048902, Net Worth: 14911.193856368567 [environment.py::render -- Line 104]
2025/05/22 14:27:57 [INFO] Last reward: -0.013856418835095074. [environment.py::step -- Line 70]
2025/05/22 14:27:57 [INFO] Last net worth: 15120.712785813983. [environment.py::step -- Line 71]
2025/05/22 14:27:57 [INFO] episode 1 score 0.16376934752245614,
average score 0.3322686598881299,
epsilon 0.9026500000000107,
net worth: 15179.620083606389 [philbot_runner.py::run_philbot -- Line 58]
2025/05/22 14:27:57 [INFO] Running trading game number 2 [philbot_runner.py::run_philbot -- Line 39]
2025/05/22 14:27:57 [INFO] Step: 2, Balance: 10000, Shares: 0, Net Worth: 10000.0 [environment.py::render -- Line 104]
2025/05/22 14:27:57 [INFO] Purchasing 2.3167454360114914 shares at current price 323.73 for 750.0000000000001 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:57 [INFO] Step: 3, Balance: 9250.0, Shares: 2.3167454360114914, Net Worth: 10000.0 [environment.py::render -- Line 104]
2025/05/22 14:27:57 [INFO] Purchasing 2.1495631158207846 shares at current price 322.74 for 693.75 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:57 [INFO] Step: 4, Balance: 8556.25, Shares: 4.466308551832276, Net Worth: 9997.70642201835 [environment.py::render -- Line 104]
2025/05/22 14:27:57 [INFO] Purchasing 1.978049287960052 shares at current price 324.42 for 641.7187500000001 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:57 [INFO] Step: 5, Balance: 7914.53125, Shares: 6.444357839792327, Net Worth: 10005.209820385428 [environment.py::render -- Line 104]
2025/05/22 14:27:57 [INFO] Purchasing 1.8175383317002975 shares at current price 326.59 for 593.5898437500001 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:57 [INFO] Step: 7, Balance: 6954.8943359375, Shares: 9.385981266421073, Net Worth: 10011.345275534859 [environment.py::render -- Line 104]
2025/05/22 14:27:57 [INFO] Purchasing 1.5906839326522093 shares at current price 327.92 for 521.6170751953125 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:27:59 [INFO] Step: 500, Balance: 0.9742483522474185, Shares: 31.680705662510626, Net Worth: 14909.91433312975 [environment.py::render -- Line 104]
2025/05/22 14:27:59 [INFO] Last reward: 0.006221661080698808. [environment.py::step -- Line 70]
2025/05/22 14:27:59 [INFO] Last net worth: 14817.723479651842. [environment.py::step -- Line 71]
2025/05/22 14:28:00 [INFO] Step: 1000, Balance: 0.9742483522474185, Shares: 31.680705662510626, Net Worth: 14835.781481879472 [environment.py::render -- Line 104]
2025/05/22 14:28:00 [INFO] Last reward: -0.013856401917463783. [environment.py::step -- Line 70]
2025/05/22 14:28:00 [INFO] Last net worth: 15044.240525138792. [environment.py::step -- Line 71]
2025/05/22 14:28:00 [INFO] episode 2 score 0.15823267781677922,
average score 0.2742566658643463,
epsilon 0.8524000000000163,
net worth: 15102.849830614437 [philbot_runner.py::run_philbot -- Line 58]
2025/05/22 14:28:00 [INFO] Running trading game number 3 [philbot_runner.py::run_philbot -- Line 39]
2025/05/22 14:28:00 [INFO] Step: 0, Balance: 10000, Shares: 0, Net Worth: 10000 [environment.py::render -- Line 104]
2025/05/22 14:28:00 [INFO] Purchasing 2.3086157539939056 shares at current price 324.87 for 750.0000000000001 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:28:00 [INFO] Step: 4, Balance: 8353.6171875, Shares: 5.08458291238688, Net Worth: 9994.615476643741 [environment.py::render -- Line 104]
2025/05/22 14:28:00 [INFO] Purchasing 1.9312042693499167 shares at current price 324.42 for 626.5212890625 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:28:00 [INFO] Step: 6, Balance: 7340.741103515626, Shares: 8.19878358371443, Net Worth: 10018.38183412092 [environment.py::render -- Line 104]
2025/05/22 14:28:00 [INFO] Purchasing 1.6906878232516644 shares at current price 325.64 for 550.555582763672 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:28:01 [INFO] Step: 500, Balance: 0.984657981919213, Shares: 31.5443580664098, Net Worth: 14845.759564034372 [environment.py::render -- Line 104]
2025/05/22 14:28:01 [INFO] Last reward: 0.006221654922865548. [environment.py::step -- Line 70]
2025/05/22 14:28:01 [INFO] Last net worth: 14753.965482061118. [environment.py::step -- Line 71]
2025/05/22 14:28:02 [INFO] Step: 1000, Balance: 0.984657981919213, Shares: 31.5443580664098, Net Worth: 14771.945766158971 [environment.py::render -- Line 104]
2025/05/22 14:28:02 [INFO] Last reward: -0.013856388409705675. [environment.py::step -- Line 70]
2025/05/22 14:28:02 [INFO] Last net worth: 14979.507642235947. [environment.py::step -- Line 71]
2025/05/22 14:28:02 [INFO] episode 3 score 0.15714831313362757,
average score 0.24497957768166664,
epsilon 0.8021500000000218,
net worth: 15037.864704658807 [philbot_runner.py::run_philbot -- Line 58]
2025/05/22 14:28:02 [INFO] Running trading game number 4 [philbot_runner.py::run_philbot -- Line 39]
2025/05/22 14:28:02 [INFO] Step: 2, Balance: 10000, Shares: 0, Net Worth: 10000.0 [environment.py::render -- Line 104]
2025/05/22 14:28:02 [INFO] Purchasing 2.3167454360114914 shares at current price 323.73 for 750.0000000000001 dollars. [environment.py::resolve_action_tuple -- Line 86]
2025/05/22 14:28:04 [INFO] Step: 500, Balance: 0.9880745573361857, Shares: 32.603018555648916, Net Worth: 15343.968606845716 [environment.py::render -- Line 104]
2025/05/22 14:28:04 [INFO] Last reward: 0.006221667011765695. [environment.py::step -- Line 70]
2025/05/22 14:28:04 [INFO] Last net worth: 15249.093822848778. [environment.py::step -- Line 71]
2025/05/22 14:28:05 [INFO] Step: 1000, Balance: 0.9880745573361857, Shares: 32.603018555648916, Net Worth: 15267.677543425496 [environment.py::render -- Line 104]
2025/05/22 14:28:05 [INFO] Last reward: -0.013856414927789312. [environment.py::step -- Line 70]
2025/05/22 14:28:05 [INFO] Last net worth: 15482.205405521667. [environment.py::step -- Line 71]
2025/05/22 14:28:05 [INFO] episode 4 score 0.18899194475613554,
average score 0.23378205109656042,
epsilon 0.7519000000000273,
net worth: 15542.520989849618 [philbot_runner.py::run_philbot -- Line 58]
2025/05/22 14:28:05 [ERROR] name 'plot_curve' is not defined [log_wu.py::run_with_logging -- Line 46]
Traceback (most recent call last):
  File "/Users/scott.atkinson/src/reinfin/reinfin/log_wu.py", line 44, in run_with_logging
    fnc(*args)
  File "/Users/scott.atkinson/src/reinfin/bin/agents/philbot_runner.py", line 29, in main
    pr.run_philbot()
  File "/Users/scott.atkinson/src/reinfin/reinfin/agents/philbot_runner.py", line 61, in run_philbot
    plot_curve(scores, self.conf.scores_plot_path)
    ^^^^^^^^^^
NameError: name 'plot_curve' is not defined
2025/05/22 14:28:05 [INFO] Log available at logs/philbot_runner/scott-atkinson_20250522_pxEf.log [log_wu.py::run_with_logging -- Line 49]
